<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8"/>
	<meta name="keywords" content="line ending, newline, LF, CR, CRLF, NEL, LS, PS, 改行"/>
	<link rel="stylesheet" href="../../Shared/sty/standard.css"/>
	<script defer src="../../Shared/js/toc.js"></script>
	
	<title>MacのCotEditorで多様な改行コードを扱う</title>
</head>

<body>

<h1>MacのCotEditorで多様な改行コードを扱う</h1>

<p>CotEditorは様々なタイプの改行を扱えます。基本的にはCotEditorは一貫して、書類ごとに設定した単一の改行コードを改行に使います。</p>


<p>CotEditorは以下の文字を改行の区切りとして扱います:</p>

<table>
	<thead>
		<tr><th>記号</th><th>Unicode名</th><th>コードポイント</th><th>メタ文字</th><th>説明</th></tr>
	</thead>
	<tbody>
		<tr><td>LF</td>
			<td>Line Feed</td>
			<td><code>U+000A</code></td>
			<td>\n</td>
			<td>UNIXや現在のmacOSで標準的な改行コードです。</td>
		</tr>
		<tr><td>CR</td>
			<td>Carriage Return</td>
			<td><code>U+000D</code></td>
			<td>\r</td>
			<td>クラシックMac OSで使われていた改行コードです。</td>
		</tr>
		<tr><td>CRLF</td>
			<td class="na">–</td>
			<td><code>U+000D</code> <code>U+000A</code></td>
			<td>\r\n</td>
			<td>CRとLFを組み合わせた改行コードです。主にWindowsで使われています。</td>
		</tr>
	</tbody>
	<tbody>
		<tr><td>NEL</td>
			<td>Next Line</td>
			<td><code>U+0085</code></td>
			<td></td>
			<td>EBCDICというIBM系の文字コードで使われていた改行コードです。デフォルトでは非表示。</td>
		</tr>
		<tr><td>LS</td>
			<td>Line Separator</td>
			<td><code>U+2028</code></td>
			<td></td>
			<td>Unicodeで行（line）を分ける記号として定義されている制御文字です。デフォルトでは非表示。</td>
		</tr>
		<tr><td>PS</td>
			<td>Paragraph Separator</td>
			<td><code>U+2029</code></td>
			<td></td>
			<td>Unicodeで文章（paragraph）を分ける記号として定義されている制御文字です。デフォルトでは非表示。</td>
		</tr>
	</tbody>
</table>


<p>NEL, LS, PSの後者3タイプは、実際には改行文字としてはほとんど使われることはありません。そのためCotEditorではこれらの改行コードは選択肢からは非表示になっています。</p>

<p><em class="note">注記:</em> VT（<code>U+000B</code>）やFF（<code>U+000C</code>）は、CotEditorでも視覚的に改行を伴う文字でありますが、改行コードとしては扱いません。</p>


<section>
<h2>デフォルトの改行コードを設定する</h2>

<ol>
	<li><p>MacでCotEditorアプリ<img class="appicon" srcset="../../Shared/gfx/icon_32x32@2x.png 2x" alt=""/>に移動します。</p></li>
	<li><p>「CotEditor」＞「設定」と選択してから、「フォーマット」をクリックします。</p></li>
	<li><p>「デフォルト改行コード」を選択します。</p></a>
</ol>

<p>デフォルト改行コードは、新規書類や開いた書類に改行が含まれていなかったときに使われます。</p>
</section>


<section>
<h2>書類の改行コードを検出する</h2>

<p>CotEditorは書類に使われている改行コードを自動で検知します。既存の書類を開いたときは、検知した改行コードを書類の改行コードとして編集時の改行に使用します。</p>

<p>書類で使われている改行コードは以下の場所で確認できます:</p>
<ul>
	<li><p>ステータスバー右側の改行コードメニューの表示</p></li>
	<li><p>「表示」＞「インスペクタ」＞「書類」で表示できる書類インスペクタ</p></li>
	<li><p>「フォーマット」メニューの「改行コード」サブメニューの選択</p></li>
</ul>

<p>もし書類に改行コードが混在していたときは、CotEditorはそれを通知しハイライトします。詳しくは、<a href="howto_find_inconsistent_line_endings.html">混在する改行を探す</a>を参照してください。</p>
</section>


<section>
<h2>書類の改行コードを変更する</h2>

<ol>
	<li><p>MacでCotEditorアプリ<img class="appicon" srcset="../../Shared/gfx/icon_32x32@2x.png 2x" alt=""/>で、書類を開きます。</p></li>
	<li><p>ステータスバー右側か「フォーマット」メニューの「改行コード」メニューを開きます。</p></li>
	<li><p>改行コード選択します。</p>
		<p>NEL、LS、PSなどの非表示の改行コードは、<kbd>Option</kbd>キーを押しながら改行コードメニューを開くことで選択できるようになります。</p></li>
	</li>
</ol>
</section>


<section>
<h2>書類と異なる改行コードを挿入する</h2>

<p>ユーザが改行コードの違いを意識しなくて良いように、CotEditorは基本的に、改行には書類の改行コードのみを使用します。たとえCotEditorスクリプトや正規表現での置換などで書類の改行コードとは異なる改行を含むテキストを挿入したときも、CotEditorは挿入されるテキストに含まれるすべての改行コードを、暗黙で書類の改行コードに揃えてから書類に挿入します。</p>

<p>CotEditorであえて書類と異なる改行コードを挿入する方法は以下の2つがあります:</p>

<ul>
	<li><p>改行コード文字の<a href="howto_input_unicode.html">Unicodeコードポイントで入力</a>します。</p></li>
	<li><p><a href="howto_paste.html">「正確にペースト」コマンド</a>で異なる改行コードを含むテキストをペーストします。</p></li>
</ul>
</section>


<section id="cf">
<h2>関連項目</h2>
<ul>
	<li><a href="howto_find_newline.html">MacのCotEditorで改行を検索する/置換する</a></li>
	<li><a href="howto_find_inconsistent_line_endings.html">MacのCotEditorで混在する改行を探す</a></li>
	<li><a href="howto_input_unicode.html">MacのCotEditorで文字をUnicodeのコードポイントで入力する</a></li>
	<li><a href="howto_paste.html">MacのCotEditorでテキストをペーストする</a></li>
	<li><a href="settings_format.html">MacのCotEditorで「フォーマット」設定を変更する</a></li>
</ul>
</section>

</body>
</html>
