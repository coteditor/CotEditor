<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<meta name="keywords" content="検索, 置換, 正規表現, batch, 一括">
	<link rel="stylesheet" href="../../Shared/sty/standard.css">
	<script defer src="../../Shared/js/toc.js"></script>
	
	<title>MacのCotEditorで複数条件でテキストを置換する</title>
</head>

<body>
<a name="howto_multiple_replace"></a>

<h1>MacのCotEditorで複数条件でテキストを置換する</h1>

<p><dfn>複数置換</dfn>機能を使うと、複数のテキスト置換を一度に連続して実行できます。この置換条件は任意の名前で保存することができ、好きなときに呼び出して再利用できます。</p>


<section>
<h2>複数置換ウインドウを開く</h2>

<p>複数置換ウインドウでは、置換定義の管理や置換の実行を行います。</p>

<ol>
	<li><p>MacでCotEditorアプリ<img class="appicon" src="../../Shared/gfx/icon_32x32@2x.png" alt="">に移動します。</p></li>
	<li><p>「検索」＞「複数置換」＞「複数置換を管理」と選択します。</p></li>
</ol>

<p><img src="../gfx/multiple_replace_panel@2x.png" srcset="../gfx/multiple_replace_panel@2x.png 2x" alt="複数置換ウインドウのスクリーンショット"></p>
</section>


<section>
<h2>置換定義を管理する</h2>

<p>作成した置換定義はサイドバーのリストに表示されます。</p>

<p>サイドバーで、以下のいずれかの操作を行います:</p>

<ul>
	<li><p><em>置換定義を作成する</em>: リスト下部の追加 + ボタンをクリックします。</p></li>
	<li><p><em>置換定義を削除する</em>: リストで定義を選択して、リスト下部の削除 - ボタンをクリックします。</p></li>
	<li><p><em>置換定義の名前を変更する</em>: リストで定義名を選択した状態で再度名前をクリックします。</p></li>
	<li><p><em>その他の操作</em>: リスト下部の<object type="image/svg+xml" class="symbol" data="../../Shared/gfx/ellipsis.circle.svg">アクションボタン</object>をクリックして、任意のコマンドを選択します。</p></li>
</ul>


<h3>置換定義を書き出す/読み込む</h3>

<p>置換定義を書き出して、別のMacに転送できます。置換定義1つあたり1つの<dfn>置換定義</dfn>ファイルが作成されます。定義ファイルは.cotrpl拡張子を持ちJSON形式で記述されています。</p>

<ul>
	<li><p><em>書き出す</em>: サイドバーで定義を選択し、リスト下部のアクションメニューから「書き出す」か「共有」を選択します。</p></li>
	<li><p><em>読み込む</em>: 置換定義ファイルを複数置換ウインドウのサイドバーにドロップします。あるいは、リスト下部のアクションメニューから「読み込む」を選択し、読み込むファイルを選択します。</p></li>
</ul>


<h3>TSVファイルを置換定義として読み込む</h3>

<p>検索テキストと置換テキストのペアをタブ区切りで1行ずつ記述したUTF-8エンコードのTSVファイルから置換定義を作成することもできます。この形式を読み込むには、「読み込む」コマンドを使って拡張子 .tsv のファイルを選択します。この形式では、大文字/小文字の区別や正規表現などのオプションは使用できません。読み込み後に、必要なオプションを手動で設定してください。</p>
</section>


<section>
<h2>置換定義を編集する</h2>

<p>複数置換ウインドウの右側のペインで置換定義を編集するには、以下のいずれかの操作を行います:</p>

<ul>
	<li><p><em>置換ルールを追加する:</em> 追加 + ボタンをクリックして、新しい置換ルールを作成します。</p></li>
	<li><p><em>置換ルールを削除する:</em> 削除する置換ルールを選択して、削除 – ボタンをクリックします。</p></li>
	<li><p><em>詳細検索オプションを変更する:</em> <object type="image/svg+xml" class="symbol" data="../../Shared/gfx/ellipsis.circle.svg">アクションボタン</object>をクリックして、必要なオプションを選択します。これらの設定は定義内のすべてのルールに適用されます。オプションの各項目については、<a href="howto_find.html">テキストを検索する/置換する</a>を参照してください。</p></li>
</ul>

<p>変更は作業中に自動的に保存されます。</p>

<p>各置換ルールでは、次の項目を設定できます:</p>

<table>
	<thead>
		<tr><th>オプション</th><th>説明</th></tr>
	</thead>
	<tbody>
		<tr><th>(チェックボックス)</th><td><p>このチェックボックスがオフの行はスキップされます。このオプションは置換定義を保持したまま一時的に条件を無効にしたいときに利用できます。</p></td></tr>
		<tr><th>検索</th><td><p>検索するテキストを指定します。この項目は必須です。空欄のときは、無効な定義としてこの行はスキップされます。</p></td></tr>
		<tr><th>置換</th><td><p>一致したテキストを置き換えるテキストです。空欄のときは、一致したテキストが削除されます。</p></td></tr>
		<tr><th>RE</th><td><p>正規表現を使って検索をします。（<u>R</u>egular <u>E</u>xpressionの略）</p></td></tr>
		<tr><th>IC</th><td><p>大文字/小文字を区別せずに検索します。（<u>I</u>gnore <u>C</u>aseの略）</p></td></tr>
		<tr><th>説明</th><td><p>登録する語句にメモがあるときにこのフィールドを使用できます。この項目は置換には影響せず、空でも構いません。</p></td></tr>
	</tbody>
</table>

<p>置換ルールは、上から下の順に適用されます。</p>

<p><em class="note">注記:</em> 無効な置換条件は実行時にスキップされます。</p>
</section>


<section>
<h2>置換定義を実行する</h2>

<p>定義した置換ルールを使って置換を実行するには、以下の操作を行います:</p>

<ol>
	<li><p>MacのCotEditorアプリ<img class="appicon" src="../../Shared/gfx/icon_32x32@2x.png" alt="">で、書類を開きます。</p></li>
	<li><p>「検索」＞「複数置換」と選択します。</p></li>
	<li><p>以下のいずれかの操作を行います:</p>
		<ul>
			<li><p>「複数置換」サブメニューから置換定義を選択します。</p></li>
			<li><p>「複数置換を管理」と選択して、サイドバーで使用する置換定義を選択してから、「すべて置換」をクリックします。</p></li>
		</ul>
	</li>
</ol>
</section>


<section>
<h2>置換定義を使って一致箇所をハイライトする</h2>

<p>置換定義を使って、現在の書類内の一致箇所をハイライトすることもできます。</p>

<ol>
	<li><p>MacのCotEditorアプリ<img class="appicon" src="../../Shared/gfx/icon_32x32@2x.png" alt="">で、書類を開きます。</p></li>
	<li><p>	「検索」＞「複数置換」＞「複数置換を管理」と選択します。</p></li>
	<li><p>サイドバーで使用する置換定義を選択します。</p></li>
	<li><p>	「ハイライト」をクリックします。</p></li>
</ol>

<p><em class="note">注記:</em> 「すべて置換」では、上位の置換条件を適用し変更が加えられた書類内容に対して次の条件を適用していくため、「ハイライト」コマンドの結果は実際に「すべて置換」を実行したときの置換対象と異なる場合があります。</p>
</section>


<section id="cf">
<h2>関連項目</h2>
<ul>
	<li><a href="howto_find.html">MacのCotEditorでテキストを検索する/置換する</a></li>
	<li><a href="about_regex.html">MacのCotEditorで正規表現を使う</a></li>
</ul>
</section>

</body>
</html>
