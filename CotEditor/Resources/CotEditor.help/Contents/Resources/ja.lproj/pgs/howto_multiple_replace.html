<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8"/>
	<meta name="keywords" content="検索, 置換, 正規表現, batch, 一括"/>
	<link rel="stylesheet" href="../../Shared/sty/standard.css"/>
	<script defer src="../../Shared/js/toc.js"></script>
	
	<title>MacのCotEditorで複数条件でテキストを置換する</title>
</head>

<body>
<a name="howto_multiple_replace"></a>

<h1>MacのCotEditorで複数条件でテキストを置換する</h1>

<p><dfn>複数置換</dfn>を使うと、複数の置換を一度に連続して実行できます。この置換条件は任意の名前で保存することができ、好きなときに呼び出して再利用できます。</p>



<h2>複数置換ウインドウを使う</h2>

<p>複数置換ウインドウで、置換定義を作成し、その定義を実行できます。</p>

<ol>
	<li>MacでCotEditorアプリ<img class="appicon" srcset="../../Shared/gfx/icon_32x32@2x.png 2x" alt=""/>に移動します。</li>
	<li>メニューから「検索」 ＞「複数置換」と選択します。</li>
</ol>

<p><img srcset="../gfx/multiple_replace_panel@2x.png 2x" alt="複数置換ウインドウのスクリーンショット"/></p>



<h2>置換定義を管理する</h2>

<p>作成した置換定義は左側のリストに一覧表示されます。</p>

<ul>
	<li>新しい置換定義を作成するには、リスト下部の追加 + ボタンをクリックします。</li>
	<li>リストで選択している定義を削除するには、リスト下部の追加 - ボタンをクリックします。</li>
	<li>定義の名前を変更するには、リストで定義名を選択した状態で再度名前をクリックします。</li>
	<li>そのほかの操作をおこなうためには、リスト下部ののアクションメニュー<object type="image/svg+xml" class="symbol" data="../../Shared/gfx/ellipsis.circle.svg"></object>を開き、任意のコマンドを選択します。</li>
</ul>



<h3>置換定義を書き出す/読み込む</h3>

<p>作成した置換定義をほかのコンピュータで使用するために、定義を書き出すことができます。置換定義1つあたり1つの<dfn>置換定義</dfn>ファイルが作成されます。定義ファイルは.cotrpl拡張子を持ちJSON形式で記述されています。</p>

<ul>
	<li><b>書き出す</b>: 左側のリストで書き出したい定義を選択し、リスト下部の詳細メニューから「書き出す」か「共有」を選択してください。</li>
	<li><b>読み込む</b>: 置換定義ファイルを複数置換ウインドウ左側のリストにドロップしてください。あるいは、リスト下部の詳細メニューから「読み込む」を選択し、読み込みたい置換定義ファイルを選択してください。</li>
</ul>


<h3>TSV ファイルを置換定義として読み込む</h3>

<p>また、検索テキストと置換テキストのペアをタブ区切りで1行ずつ記述したUTF-8エンコードのTSVファイルから置換定義を作成することもできます。この形式を読み込むには、上記の「読み込む」コマンドで拡張子が.tsvのファイルを選択してください。この形式では、大文字/小文字の区別や正規表現の有効化などのオプションは指定できません。TSVファイルを置換定義として読み込んだ後、必要なオプションを手動で設定してください。</p>



<h2>置換定義を実行する</h2>

<p>左側のリストで選択された置換定義の内容が、右側の編集エリアに表示されます。実行すると、編集エリアの置換条件が上から順に適用されます。</p>

<p>置換定義を実行するには、編集エリア下部にあるボタンを使用します。</p>

<ul>
	<li><b>すべて置換</b>: 最前面の書類に対して置換を実行します。</li>
	<li><b>ハイライト</b>: 最前面の書類で検索条件に一致するすべての箇所をハイライトします。</li>
</ul>

<p>* 「すべて置換」では、上位の置換条件を適用し変更が加えられた書類内容に対して次の条件を適用していくため、「ハイライト」コマンドの結果は実際に「すべて置換」を実行したときの置換対象と異なる場合があります。</p>



<h2>置換定義を編集する</h2>

<p>複数置換を行う置換定義を作成できます。</p>


<h3>新規置換定義を作成する</h3>

<ol>
	<li>左側リスト下部の追加 + ボタンをクリックし、新しい置換定義を作成します。</li>
	<li>右側編集エリアの追加 + ボタンをクリックし、新しい置換条件を追加します。</li>
	<li>追加した置換条件行に条件を入力します。</li>
</ol>

<p>定義の変更は随時自動で保存されます。</p>

<p>無効な置換条件は置換実行時にスキップされます。</p>


<h3>置換定義オプション</h3>

<table>
	<thead>
		<tr><th>オプション</th><th>説明</th></tr>
	</thead>
	<tbody>
		<tr><th>(チェックボックス)</th><td>このチェックボックスがオフの行は、置換やハイライトでスキップされます。このオプションは置換定義を保持したまま一時的に条件を無効にしたいときに利用できます。</td></tr>
		<tr><th>検索</th><td>置換するテキストです。この項目は必須です。このフィールドが空欄のとき、無効な定義としてこの行は無視されます。</td></tr>
		<tr><th>置換</th><td>一致したテキストを置き換えるテキストです。このフィールドが空欄のときは、一致したテキストが削除されます。</td></tr>
		<tr><td>RE</td><td>正規表現を使って検索をします。（<u>R</u>egular <u>E</u>xpressionの略）</td></tr>
		<tr><td>IC</td><td>大文字/小文字を区別せずに検索します。（<u>I</u>gnore <u>C</u>aseの略）</td></tr>
		<tr><th>説明</th><td>登録する語句にメモがあるときにこのフィールドを使用できます。この項目は置換には影響せず、空でも構いません。</td></tr>
	</tbody>
</table>


<h2>詳細検索オプションを変更する</h2>

<p>詳細オプション画面からより細かな検索の振る舞いを設定できます。ここでの設定は置換定義に保存され、同一置換定義内のすべての置換条件に適用されます。詳細オプション画面は複数置換ウインドウの編集エリア下部のギアボタンをクリックすると開きます。</p>

<p>オプションの各項目については、<a href="howto_find.html">テキストを検索する/置換する</a>を参照してください。</p>



<section id="cf">
<h2>関連項目</h2>
<ul>
	<li><a href="howto_find.html">テキストを検索する/置換する</a></li>
	<li><a href="about_regex.html">正規表現を使う</a></li>
</ul>
</section>

</body>
</html>
